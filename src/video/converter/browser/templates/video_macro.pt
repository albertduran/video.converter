<div metal:define-macro="video" i18n:domain="video.converter">

<div class="video-container"
     tal:define="util video/@@converter-utils|context/@@converter-utils;
                 settings util/settings;
                 video nocall: video|context;
                 height height|video/height|settings/default_video_height|string:720;
                 width width|video/width|settings/default_video_width|string:400;">
<tal:has_video tal:condition="python: util.mp4_url">
    <video tal:attributes="poster util/image_url; width width; height height;"
          preload="none" class="mejs-player" controls="" controls playsinline webkit-playsinline >
        <tal:videos tal:repeat="video python:util.videos()">
            <source src="" type="video/mp4"
                    tal:attributes="src video/url;
                                    type string:video/${video/type};
                                    data-quality video/quality;" />
        </tal:videos>
    </video>
</tal:has_video>
</div>
</div>
