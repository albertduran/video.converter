<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">
<body>

<metal:content-core fill-slot="content-core">
<metal:main_macro define-macro="content-core"
    tal:define="videos view/course_videos;
                number_videos view/course_number_videos;
                thumb_scale_list view/get_thumb_scale_list;
                img_class python:'thumb-%s pull-right' % thumb_scale_list;">

  <div metal:define-macro="text-field-view"
      id="parent-fieldname-text" class="stx"
      tal:define="text view/text"
      tal:condition="text"
      tal:attributes="class view/text_class">
    <div metal:define-slot="inside" tal:replace="structure text">The body</div>
  </div>

  <metal:listingmacro define-macro="listing"
      tal:define="portal context/@@plone_portal_state/portal;
                  image_scale portal/@@image_scale">
  <ul class="photoAlbumEntry">
    <tal:videos tal:repeat="video videos">
      <li tal:define="video_has_preview python:video.getIcon;">
        <a tal:attributes="href string:${video/getURL}/view;
                           title video/Title">
          <icon>PLAY</icon>
          <span class="videoName" tal:content="video/Title">Title</span>
          <icon>CLOCK</icon>
          <span class="time" tal:content="video/Title">Time</span>
          <img tal:condition="python: video_has_preview and thumb_scale_list"
               tal:replace="structure python:image_scale.tag(video, 'image', scale=thumb_scale_list, css_class=img_class)" />
        </a>
      </li>
    </tal:videos>
  </ul>

  <div metal:use-macro="context/batch_macros/macros/navigation" />

  <metal:empty metal:define-slot="no_items_in_listing">
    <p class="discreet"
        tal:condition="python: not videos and not albums"
        tal:content="view/no_items_message">
      There are currently no items in this folder.
    </p>
  </metal:empty>
  </metal:listingmacro>

</metal:main_macro>
</metal:content-core>

</body>
</html>
